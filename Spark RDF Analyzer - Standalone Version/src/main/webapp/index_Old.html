<html>
<head>
<link rel="stylesheet" type="text/css" href="bootstrap.css">
<link rel="stylesheet" type="text/css" href="loader.css">
<link rel="stylesheet" type="text/css" href="loader2.css">

<script type="text/javascript" src="js/app-config.js"></script>

<div class="navbar navbar-inverse">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-inverse-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="#">SPARK RDF ANALYSIS</a>
  </div>
  <div class="navbar-collapse collapse navbar-inverse-collapse">
   
    <ul class="nav navbar-nav navbar-right">
    </ul>
  </div>
</div>
</head>
<script>
function startJob()
{
  document.getElementById("result").className="loader2"
  document.getElementById("result").innerHTML = "";
  document.getElementById("textShown").innerHTML = "Waiting for server...";
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
	  document.getElementById("result").className="alert alert-info"
	  document.getElementById("textShown").innerHTML = "Results are shown below"
      document.getElementById("result").innerHTML = xhttp.responseText;
    }
  }
  
  var selectedTask = document.getElementById("selectAnalysis");
  var selectedTaskValue = selectedTask.options[selectedTask.selectedIndex].value;
  
  var selectedGraph = document.getElementById("selectGraph");
  var selectedGraphValue = selectedGraph.options[selectedGraph.selectedIndex].value;
  
  
  xhttp.open("GET", REST_API + selectedTaskValue+"/"+selectedGraphValue, true);
  xhttp.send();
  
  
  
}
</script>
<body background="./img/bg.jpg" style="-webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;">
 
   
  <form id="IDbardh" class="form-horizontal col-md-6 col-md-offset-3" style="background-color:rgba(22,137,251,0.9); border-radius:15px"
  action = "" method="post">
    <br>
  <fieldset>
    <legend id="textShown" style="color:#ffffff;">Select Graph/Analysis </legend>
   
    <div id="result" class="loader" style="text-align: center;">Loading...</div>
	
   
     <div class="form-group">
      <label for="select" class="col-lg-2 control-label">Graph</label>
      <div class="col-lg-10">
        <select class="form-control" id="selectGraph" name="inputGraph" selected="true">
          <option value="sib200">sib200</option>
          <option value="sib400">sib400</option>
        </select>
      </div>
    </div>
	
	<div class="form-group">
      <label for="select" class="col-lg-2 control-label">Analysis</label>
      <div class="col-lg-10">
        <select class="form-control" id="selectAnalysis" name="inputAnalysis" selected="true">
          <optgroup label="Statistics">
          <option value="countEdges">Number of Edges</option>
          <option value="countNodes">Number of Nodes</option>
		  <option value="predicateDistribution">Predicate Distribution</option>
		  <option value="getClasses">Classes</option>
		  <option value="edgeFinder">Edge Finder</option>
		  <option value="collapsedGraph">Collapsed Graph</option>
		  </optgroup>
		  <optgroup label="Structure">
		  <option value="classDistribution">Class Distribution</option>
          <option value="inDegree">In Degree</option>
		  <option value="outDegree">Out Degree</option>
          <option value="degreeDistribution">Degree Distribution</option>
		  </optgroup>>
        </select>
      </div>
    </div>
    
   
    <div class="form-group">
      <div class="col-lg-10 col-lg-offset-2">
        <button type="button" class="btn btn-success" onclick="startJob()" >Submit Job</button>
      </div>
    </div>
  </fieldset>
</form>
</body>
</html>
